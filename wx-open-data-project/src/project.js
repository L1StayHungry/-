window.__require=function e(t,n,o){function s(a,c){if(!n[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+a+"'")}}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return s(t[a][1][e]||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)s(o[a]);return s}({launch:[function(e,t,n){"use strict";cc._RF.push(t,"e53e6YiUd9FJLf8yIQu1n47","launch"),cc.Class({extends:cc.Component,properties:{tips:cc.Label,content:cc.Node,prefab:cc.Prefab},start:function(){var e=this;"undefined"!=typeof wx&&(wx.onMessage(function(t){switch(t.messageType){case"unit_message":console.log(t.message);break;case"postNewTime":e.postDataToWX(t.use_time);break;case"update_wxSubContextView":cc.director.loadScene("Test")}}),this.getWXData(),this.initTips(),this.initUserInfo(),this.initFriendInfo())},updata:function(){},postDataToWX:function(e){var t=new Array;t.push({key:"use_time",value:e.toString()}),wx.setUserCloudStorage({KVDataList:t,success:function(e){console.log("success_setUserCloudStorage"),console.log(e)},fail:function(e){console.log("fail_setUserCloudStorage"),console.log(e)}})},getWXData:function(){wx.getUserCloudStorage({keyList:["use_time"],success:function(e){console.log("success_getUserCloudStorage"),console.log(e.KVDataList[0].value)},fail:function(e){console.log("fail_getUserCloudStorage"),console.log(e)}})},initTips:function(){var e="Canvas";cc.game.renderType===cc.game.RENDER_TYPE_WEBGL&&(e="WEBGL"),this.tips.string="\u5f00\u653e\u6570\u636e\u57df\u5f53\u524d\u652f\u6301 "+e+" \u6e32\u67d3\u6a21\u5f0f"},initUserInfo:function(){wx.getUserInfo({openIdList:["selfOpenId"],lang:"zh_CN",success:function(e){console.log("333333")},fail:function(e){console.error(e)}})},initFriendInfo:function(){var e=this;wx.getFriendCloudStorage({keyList:["use_time"],success:function(t){console.log("\u7528\u6237\u4fe1\u606f\uff1a");for(var n=0;n<t.data.length;++n)e.createUserBlock(t.data[n]),console.log(t.data[n].KVDataList[0].value)},fail:function(e){console.error(e)}})},createUserBlock:function(e){var t=cc.instantiate(this.prefab);t.parent=this.content,t.x=0,t.getChildByName("userName").getComponent(cc.Label).string=e.nickName||e.nickname,t.getChildByName("use_time").getComponent(cc.Label).string=e.KVDataList[0].value||e.KVDataList[0].value,cc.loader.load({url:e.avatarUrl,type:"png"},function(e,n){e&&console.error(e),t.getChildByName("mask").children[0].getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)})}}),cc._RF.pop()},{}]},{},["launch"]);